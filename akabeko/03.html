<!-- 
    イラスト うにょーんセンパイ
    https://twitter.com/oashis/status/1687926511305883648
-->

<style>
    :root {
        --yumemi-rotate-speed: 3.5s;
    }

    body {
        margin: 0;
        padding-left: 3em;
    }

    /*
    * {
        outline: solid 1px red;
    }
    */

    #yumemi_head_group {
        position: fixed;
        z-index: 2;
    }

    #yumemi_head,
    #yumemi_hair_right {
        position: absolute;
        top: 0;
    }

    #yumemi_body {
        position: fixed;
    }

    #yumemi_head,
    #yumemi_body {
        filter: drop-shadow(2px 3px 6px rgba(16, 16, 16, 0.6));
    }

    .anime_rotate {
        animation: rotate var(--yumemi-rotate-speed) ease-in-out infinite alternate;
    }

    .anime_hair {
        animation: rotate_hair calc(var(--yumemi-rotate-speed) * 1.3) ease-in-out infinite alternate;
    }

    #yumemi_hair_left {
        transform-origin: 142px 112px;
    }

    #yumemi_hair_right {
        transform-origin: 448px 117px;
    }

    #yumemi img {
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        backface-visibility: hidden;
        user-select: none;
    }

    @keyframes rotate {
        0% {
            transform: rotate(5deg) translateX(0rem) translateY(0rem);
        }

        100% {
            transform: rotate(-10deg) translateX(-1rem) translateY(0rem);
        }
    }

    @keyframes rotate_hair {
        0% {
            transform: rotate(3deg);
        }

        100% {
            transform: rotate(-6deg);
        }
    }

    #yumemi:not(:hover)>#config {
        display: none;
    }

    #config {
        zoom: 2;
        position: fixed;
        top: 0;
        background-color: rgba(255, 255, 255, 0.5);
        z-index: 3;
    }

    #config h2 {
        margin: auto;
    }

</style>

<div id="yumemi">
    <div id="yumemi_head_group" class="anime_rotate">
        <div id="yumemi_hair_left" class="anime_hair">
            <img src="./yumemi_hair_left.png">
        </div>
        <div id="yumemi_hair_right" class="anime_hair">
            <img src="./yumemi_hair_right.png">
        </div>
        <div id="yumemi_head">
            <img src="./yumemi_head.png">
        </div>
    </div>
    <div id="yumemi_body">
        <img src="./yumemi_body.png">
    </div>
    <div id="config">
        <h2>せってい</h2>
        <ul>
            <li><label><input type="range" name="--yumemi-rotate-speed" min="0.1" max="8.0" step="0.1" value="3.5" onchange="change_config(this.name, this.value + 's')"> 首振り速度</label></li>
        </ul>
        イラスト: <a target="_blank" href="https://twitter.com/oashis/status/1687926511305883648">うにょーんセンパイ</a>
    </div>
</div>

<script>
    function change_config(property, value) {
        document.documentElement.style.setProperty(property, value)
        localStorage.setItem(property, value)
    }

    function load_config(property) {
        let value = localStorage.getItem(property)
        if (value) {
            document.documentElement.style.setProperty(property, value)
            document.getElementsByName(property)[0].value = value.replace(/[^0-9.-]+/g, '')
        }
    }
    load_config('--yumemi-rotate-speed')
</script>
